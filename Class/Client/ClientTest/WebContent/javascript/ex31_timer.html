<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script type="text/javascript">

            let btn1, txt1, btn2, txt2, btn3, btn4;
            let timer = 0;

            let color = ["red", "orange", "yellow", "green", "blue", "indigo", "violet"];

            window.onload = () => {

                btn1 = document.all.btn1;
                txt1 = document.all.txt1;

                btn2 = document.all.btn2;
                txt2 = document.all.txt2;

                btn3 = document.all.btn3;
                btn4 = document.all.btn4;

                btn1.onclick = () => {

                    // 타이머 함수
                    // 1. window.setTimeout(함수, 시간) : ms
                    //    - 1회성
                    // 2. window.setInterval(함수, 시간) : ms
                    //    - 무한 반복

                    // test();
                    // setTimeout(test, 3000);
                    // setInterval(test, 3000);

                    // txt1.size += 1;
                    setInterval(() => {
                        txt1.size += 1;
                    }, 1000);
                }

                // setInterval( => {
                //     txt1.value = (new Date()).toLocaleTimeString();
                // }, 1000);

                let n = 0;

                // setInterval( => {
                //     txt1.value = n;
                //     n++;
                // }, 1000);

                btn2.onclick = () => {

                    if (timer == 0) {

                        timer = setInterval(() => {
                            txt2.value = n;
                            n++;
                        }, 100);
                    }
                }

                btn3.onclick = () => {

                    // setInterval() -> clearInterval(timer id)
                    clearInterval(timer);
                    timer = 0;
                }

                btn4.onclick = () => {

                    let index = 0;

                    setInterval(() => {

                        document.body.bgColor = color[index];
                        index++;
                        if (index >= color.length) {
                            index = 0;
                        }
                    }, 1000);
                }
            }

            function test() {
                alert("따르릉");
            }

            let cat;
            let timer2 = 0;

            function change() {

                cat = event.srcElement;
                n = 1;

                if (timer2 == 0) {

                    timer2 = setInterval(() => {

                        n++;
                        if (n >= 10) n = 1;
                        cat.src = "../images/catty0" + n + ".png";
                    }, 100);
                } else {
                    clearInterval(timer2);
                    timer2 = 0;
                }
            }
        </script>
    </head>
    <body>
        <input type="button" value = "테스트" name = "btn1">
        <hr>
        <input type="text" name = "txt1">
        <hr>
        <input type="text" name = "txt2" style = "text-align:right;">
        <hr>
        <input type="button" value = "시작" name = "btn2">
        <input type="button" value = "멈춤" name = "btn3">
        <hr>
        <input type="button" value = "클릭하지 마세요." name = "btn4">
        <hr>
        <img src="../images/catty01.png" alt="" onclick="change()">
    </body>
</html>
